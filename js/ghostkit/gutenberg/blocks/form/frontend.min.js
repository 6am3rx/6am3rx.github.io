!function(){const{grecaptcha:t,GHOSTKIT:{googleReCaptchaAPISiteKey:e,events:i},wp:r}=window,{__:o}=r.i18n,s=".ghostkit-form-field-name-first, .ghostkit-form-field-name-last, .ghostkit-form-field-email-primary, .ghostkit-form-field-email-confirm, .ghostkit-form-field";function a(t,e){const i=t.closest(s);if(!i)return;let r=i.querySelector(".ghostkit-form-field-error");r||(r=document.createElement("div"),r.classList.add("ghostkit-form-field-error"),i.append(r)),r.innerHTML=e,r.setAttribute("aria-hidden",!1),t.setAttribute("aria-invalid",!0)}i.on(document,"init.blocks.gkt",(()=>{document.querySelectorAll("form.ghostkit-form:not(.ghostkit-form-ready)").forEach((t=>{t.classList.add("ghostkit-form-ready"),t.setAttribute("novalidate",""),Array.from(t.elements).forEach((e=>{let r="";if("email"===e.type&&e.dataset.confirmEmail){const s=t.querySelector(e.dataset.confirmEmail);s&&(r=o("These emails should match.","ghostkit"),s.getAttribute("required")&&e.setAttribute("required",s.getAttribute("required")),i.on(s,"input",(()=>{s.value?(e.setAttribute("pattern",s.value),e.setAttribute("required",!0)):(e.removeAttribute("pattern",s.value),s.getAttribute("required")?e.setAttribute("required",s.getAttribute("required")):e.removeAttribute("required"))})))}i.on(e,"invalid",(()=>{r&&e.validity.patternMismatch?a(e,r):a(e,e.validationMessage)}))}))}))})),i.on(document,"submit",".ghostkit-form",(i=>{const r=i.delegateTarget;if(!r.checkValidity())return i.preventDefault(),r.classList.add("ghostkit-form-was-validated"),void r.querySelector(":invalid").focus();if(void 0!==t){if(r.classList.contains("ghostkit-form-processed"))return;const o=r.querySelector('[name="ghostkit_form_google_recaptcha"]');if(!o)return;if(i.preventDefault(),r.classList.contains("ghostkit-form-processing"))return;r.classList.add("ghostkit-form-processing"),t.ready((()=>{t.execute(e,{action:"ghostkit"}).then((t=>{o.value=t,r.classList.add("ghostkit-form-processed"),r.submit(),r.classList.remove("ghostkit-form-processing","ghostkit-form-processed")}))}))}})),i.on(document,"blur",".ghostkit-form",(t=>{t.target.checkValidity()})),i.on(document,"input",".ghostkit-form",(t=>{const e=t.target;e.checkValidity()&&function(t){const e=t.closest(s).querySelector(".ghostkit-form-field-error");e&&(e.innerHTML="",e.setAttribute("aria-hidden",!0)),t.setAttribute("aria-invalid",!1)}(e)}))}();